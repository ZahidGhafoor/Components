{"ast":null,"code":"var _jsxFileName = \"F:\\\\PROGRAMMING\\\\Coding\\\\React.js\\\\my exercise\\\\instaprint\\\\src\\\\React\\\\Admin\\\\components\\\\AllModels.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport './Profile.css';\nimport axios from '../../../AxiosInstance';\nimport { useHistory } from 'react-router-dom';\nimport { AiOutlineSearch } from 'react-icons/ai';\nimport Dialog from '@material-ui/core/Dialog';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport DialogContent from '@material-ui/core/DialogContent';\nimport DialogContentText from '@material-ui/core/DialogContentText';\nimport DialogTitle from '@material-ui/core/DialogTitle';\nimport Button from '@material-ui/core/Button';\nimport { BASE_URL } from '../../../AxiosInstance';\nexport default function AllModels(props) {\n  const history = useHistory();\n  const [modelList, setModelList] = useState([]);\n  const [searchItem, setSearchItem] = useState([]);\n\n  const handleSearch = e => {\n    setSearchItem(e.target.value);\n    console.log(('SearchItem:', searchItem));\n  };\n\n  const getAllmodels = () => {\n    axios.get('model/getAllModels').then(res => {\n      console.log('Response', res.data);\n      setModelList(res.data.models);\n    }).catch(err => {\n      console.log('Response', err.response);\n    });\n  };\n\n  useEffect(() => {\n    getAllmodels();\n  }, []);\n\n  const handleUpdate = e => {\n    console.log('asasd4545');\n    history.push({\n      pathname: 'updateModel',\n      state: { ...e\n      }\n    });\n  };\n\n  const handleDelete = async data => {\n    handleClose();\n    const originalState = modelList; // const temp = modelList.filter((c) => c._id !== data._id);\n    // setModelList(temp);\n\n    await axios.delete(`model/deleteModel/${dId}`) //remove from Database\n    .then(res => {\n      getAllmodels();\n    }).catch(err => {\n      alert('ERROR : User Not Deleted');\n      setModelList(originalState);\n    });\n  };\n\n  const [open, setOpen] = React.useState(false);\n  const [dId, setDdiI] = React.useState('');\n\n  const handleClickOpen = id => {\n    setDdiI(id);\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: '5rem 1rem 1rem 1rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      overflow: 'auto',\n      backgroundColor: 'white',\n      borderRadius: '6px'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profiles-tble-wrap\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-fild-dv\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-fild\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AiOutlineSearch, {\n    style: {\n      fontSize: '22px',\n      color: '#afabab'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 8\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Search...\",\n    name: \"searchprofile\",\n    onChange: handleSearch,\n    className: \"profile-search-inpt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 8\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \" tablecontain\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"adTable\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    className: \"adTable-tr\",\n    style: {\n      backgroundColor: '#1d2630'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    className: \"adTable-th\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, \"Model Id\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"adTable-th\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"adTable-th\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }\n  }, \"Uploaded Date\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"adTable-th\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  }, \"Downloads\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"adTable-th\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }\n  }, \"Category\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"adTable-th\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }, \"Miniature\"), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"adTable-th\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"th\", {\n    className: \"adTable-th\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  })), modelList.filter(val => {\n    if (searchItem == '') {\n      return val;\n    } else if (val.name.toLowerCase().includes(searchItem.toLowerCase())) {\n      return val; // } else if (\n      //   val.lastName\n      //     .toLowerCase()\n      //     .includes(searchItem.toLowerCase())\n      // ) {\n      //   return val\n    } else if (val.modelId.toLowerCase().includes(searchItem.toLowerCase())) {\n      return val;\n    }\n  }).map((item, key) => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      className: \"adTable-tr\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      className: \"adTable-td\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 12\n      }\n    }, item.modelId), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"adTable-td\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 12\n      }\n    }, item.name), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"adTable-td\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 12\n      }\n    }, item.uploadedDate), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"adTable-td\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 12\n      }\n    }, item.modelInstruction), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"adTable-td\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 12\n      }\n    }, item.category), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"adTable-td\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      style: {\n        width: '100px',\n        height: '100px'\n      },\n      alt: \"model\",\n      src: `${BASE_URL}${item.modelImage}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"td\", {\n      className: \"adTable-td d-flex justify-content-between\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 12\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: () => props.handleEditModel(item),\n      style: {\n        backgroundColor: '#ff5900',\n        color: 'white',\n        border: 'none',\n        borderRadius: '5px',\n        height: '25px',\n        width: '40px',\n        marginRight: '5px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }\n    }, \"Edit\"), /*#__PURE__*/React.createElement(\"button\", {\n      // onClick={() => handleDelete(item)}\n      onClick: () => handleClickOpen(item._id),\n      style: {\n        backgroundColor: '#ff5900',\n        color: 'white',\n        border: 'none',\n        borderRadius: '5px',\n        height: '25px',\n        width: '55px'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 13\n      }\n    }, \"Delete\"), /*#__PURE__*/React.createElement(Dialog, {\n      open: open,\n      onClose: handleClose,\n      \"aria-labelledby\": \"alert-dialog-title\",\n      \"aria-describedby\": \"alert-dialog-description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(DialogTitle, {\n      id: \"alert-dialog-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 14\n      }\n    }, 'Are you sure to delete this Model?'), /*#__PURE__*/React.createElement(DialogContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(DialogContentText, {\n      id: \"alert-dialog-description\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 15\n      }\n    })), /*#__PURE__*/React.createElement(DialogActions, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      onClick: handleClose,\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 15\n      }\n    }, \"Cancel\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => handleDelete(item),\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 15\n      }\n    }, \"Delete\")))));\n  }))))));\n}","map":{"version":3,"sources":["F:/PROGRAMMING/Coding/React.js/my exercise/instaprint/src/React/Admin/components/AllModels.jsx"],"names":["React","useEffect","useState","axios","useHistory","AiOutlineSearch","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","Button","BASE_URL","AllModels","props","history","modelList","setModelList","searchItem","setSearchItem","handleSearch","e","target","value","console","log","getAllmodels","get","then","res","data","models","catch","err","response","handleUpdate","push","pathname","state","handleDelete","handleClose","originalState","delete","dId","alert","open","setOpen","setDdiI","handleClickOpen","id","padding","overflow","backgroundColor","borderRadius","fontSize","color","filter","val","name","toLowerCase","includes","modelId","map","item","key","uploadedDate","modelInstruction","category","width","height","modelImage","handleEditModel","border","marginRight","_id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './Profile.css';\r\nimport axios from '../../../AxiosInstance';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { AiOutlineSearch } from 'react-icons/ai';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Button from '@material-ui/core/Button';\r\nimport { BASE_URL } from '../../../AxiosInstance';\r\nexport default function AllModels(props) {\r\n\tconst history = useHistory();\r\n\tconst [modelList, setModelList] = useState([]);\r\n\tconst [searchItem, setSearchItem] = useState([]);\r\n\tconst handleSearch = (e) => {\r\n\t\tsetSearchItem(e.target.value);\r\n\t\tconsole.log(('SearchItem:', searchItem));\r\n\t};\r\n\r\n\tconst getAllmodels = () => {\r\n\t\taxios\r\n\t\t\t.get('model/getAllModels')\r\n\t\t\t.then((res) => {\r\n\t\t\t\tconsole.log('Response', res.data);\r\n\t\t\t\tsetModelList(res.data.models);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log('Response', err.response);\r\n\t\t\t});\r\n\t};\r\n\tuseEffect(() => {\r\n\t\tgetAllmodels();\r\n\t}, []);\r\n\tconst handleUpdate = (e) => {\r\n\t\tconsole.log('asasd4545');\r\n\t\thistory.push({ pathname: 'updateModel', state: { ...e } });\r\n\t};\r\n\r\n\tconst handleDelete = async (data) => {\r\n\t\thandleClose();\r\n\t\tconst originalState = modelList;\r\n\r\n\t\t// const temp = modelList.filter((c) => c._id !== data._id);\r\n\t\t// setModelList(temp);\r\n\r\n\t\tawait axios\r\n\t\t\t.delete(`model/deleteModel/${dId}`) //remove from Database\r\n\t\t\t.then((res) => {\r\n\t\t\t\tgetAllmodels();\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\talert('ERROR : User Not Deleted');\r\n\t\t\t\tsetModelList(originalState);\r\n\t\t\t});\r\n\t};\r\n\r\n\tconst [open, setOpen] = React.useState(false);\r\n\tconst [dId, setDdiI] = React.useState('');\r\n\r\n\tconst handleClickOpen = (id) => {\r\n\t\tsetDdiI(id);\r\n\t\tsetOpen(true);\r\n\t};\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetOpen(false);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div style={{ padding: '5rem 1rem 1rem 1rem' }}>\r\n\t\t\t<div\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\toverflow: 'auto',\r\n\t\t\t\t\tbackgroundColor: 'white',\r\n\t\t\t\t\tborderRadius: '6px',\r\n\t\t\t\t}}>\r\n\t\t\t\t<div className='profiles-tble-wrap'>\r\n\t\t\t\t\t<div className='search-fild-dv'>\r\n\t\t\t\t\t\t<div className='search-fild'>\r\n\t\t\t\t\t\t\t<AiOutlineSearch style={{ fontSize: '22px', color: '#afabab' }} />\r\n\t\t\t\t\t\t\t<input type='text' placeholder='Search...' name='searchprofile' onChange={handleSearch} className='profile-search-inpt' />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=' tablecontain'>\r\n\t\t\t\t\t\t<table className='adTable'>\r\n\t\t\t\t\t\t\t<tr className='adTable-tr' style={{ backgroundColor: '#1d2630' }}>\r\n\t\t\t\t\t\t\t\t<th className='adTable-th'>Model Id</th>\r\n\t\t\t\t\t\t\t\t<th className='adTable-th'>Name</th>\r\n\t\t\t\t\t\t\t\t<th className='adTable-th'>Uploaded Date</th>\r\n\t\t\t\t\t\t\t\t<th className='adTable-th'>Downloads</th>\r\n\r\n\t\t\t\t\t\t\t\t<th className='adTable-th'>Category</th>\r\n\t\t\t\t\t\t\t\t<th className='adTable-th'>Miniature</th>\r\n\t\t\t\t\t\t\t\t<th className='adTable-th'></th>\r\n\t\t\t\t\t\t\t\t<th className='adTable-th'></th>\r\n\t\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t\t\t{modelList\r\n\t\t\t\t\t\t\t\t.filter((val) => {\r\n\t\t\t\t\t\t\t\t\tif (searchItem == '') {\r\n\t\t\t\t\t\t\t\t\t\treturn val;\r\n\t\t\t\t\t\t\t\t\t} else if (val.name.toLowerCase().includes(searchItem.toLowerCase())) {\r\n\t\t\t\t\t\t\t\t\t\treturn val;\r\n\t\t\t\t\t\t\t\t\t\t// } else if (\r\n\t\t\t\t\t\t\t\t\t\t//   val.lastName\r\n\t\t\t\t\t\t\t\t\t\t//     .toLowerCase()\r\n\t\t\t\t\t\t\t\t\t\t//     .includes(searchItem.toLowerCase())\r\n\t\t\t\t\t\t\t\t\t\t// ) {\r\n\t\t\t\t\t\t\t\t\t\t//   return val\r\n\t\t\t\t\t\t\t\t\t} else if (val.modelId.toLowerCase().includes(searchItem.toLowerCase())) {\r\n\t\t\t\t\t\t\t\t\t\treturn val;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.map((item, key) => {\r\n\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t<tr className='adTable-tr'>\r\n\t\t\t\t\t\t\t\t\t\t\t<td className='adTable-td'>{item.modelId}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td className='adTable-td'>{item.name}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td className='adTable-td'>{item.uploadedDate}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td className='adTable-td'>{item.modelInstruction}</td>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<td className='adTable-td'>{item.category}</td>\r\n\t\t\t\t\t\t\t\t\t\t\t<td className='adTable-td'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img style={{ width: '100px', height: '100px' }} alt='model' src={`${BASE_URL}${item.modelImage}`} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t{/* {item.modelImage} */}\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t<td className='adTable-td d-flex justify-content-between'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => props.handleEditModel(item)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#ff5900',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborder: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: '5px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: '25px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: '40px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmarginRight: '5px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tEdit\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// onClick={() => handleDelete(item)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleClickOpen(item._id)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: '#ff5900',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: 'white',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborder: 'none',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderRadius: '5px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\theight: '25px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\twidth: '55px',\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Dialog open={open} onClose={handleClose} aria-labelledby='alert-dialog-title' aria-describedby='alert-dialog-description'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DialogTitle id='alert-dialog-title'>{'Are you sure to delete this Model?'}</DialogTitle>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DialogContent>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DialogContentText id='alert-dialog-description'></DialogContentText>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={handleClose} color='primary'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Button onClick={() => handleDelete(item)} color='primary'>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tDelete\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Dialog>\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</table>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n"]},"metadata":{},"sourceType":"module"}